<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ù–µ–±–æ–ª—å—à–æ–µ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ</title>
<style>
  :root{
    --bg:#0f1724;
    --card:#0b1220;
    --accent:#ff5c8a;
    --muted:#9aa6bd;
    --glass: rgba(255,255,255,0.04);
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{
    background:var(--bg);
    display:flex;align-items:center;justify-content:center;
    color:#e6eef8;
    padding:24px;
  }
  .card{
    width:100%;max-width:720px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;
    box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    padding:28px;
    display:grid;grid-template-columns:1fr 360px;gap:24px;
    position:relative;overflow:hidden;
  }
  @media (max-width:880px){.card{grid-template-columns:1fr;}}
  h1{margin:0 0 8px;font-size:26px;}
  p.lead{margin:0 0 18px;color:var(--muted);}
  .bubble{
    background:var(--glass);
    border-radius:12px;padding:14px;margin-bottom:14px;color:#dbe9ff;
    border:1px solid rgba(255,255,255,0.02);
  }
  .choices{display:flex;flex-direction:column;gap:10px;}
  .btn{
    border:0;cursor:pointer;padding:12px 14px;border-radius:10px;font-weight:600;
    background:linear-gradient(90deg,#132033, #0b1b2a); color:#dff1ff;
    transition:transform .12s ease;
    text-align:left;
  }
  .btn:active{transform:scale(0.98)}
  .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);}
  input[name="name"]{
    width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);
    background:transparent;color:inherit;outline:none;font-size:15px;
  }
  .right{display:flex;flex-direction:column;align-items:center;gap:12px;}
  .card-art{
    width:100%;height:260px;border-radius:12px;background:
      linear-gradient(180deg, rgba(255,92,138,0.12), rgba(85,120,255,0.06));
    display:flex;align-items:center;justify-content:center;flex-direction:column;
    color:white;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03);
  }
  .heart{font-size:78px;animation:beat 1.2s infinite;}
  @keyframes beat{
    0%{transform:scale(1)}
    30%{transform:scale(1.14)}
    60%{transform:scale(0.98)}
    100%{transform:scale(1)}
  }
  .result{text-align:center;padding:18px;border-radius:12px;background:var(--glass);}
  .big-cta{
    margin-top:12px;padding:12px 16px;border-radius:12px;border:0;font-weight:700;cursor:pointer;
    background:linear-gradient(90deg,var(--accent), #6b6dff);color:white;font-size:16px;
  }
  /* floating hearts */
  .floating-heart{
    position:absolute;pointer-events:none;user-select:none;
    font-size:20px;opacity:.9;transform:translate(-50%,-50%);
    animation:floatUp linear forwards;
  }
  @keyframes floatUp{
    to{transform:translate(-50%,-160%) rotate(20deg); opacity:0}
  }
</style>
</head>
<body>
<div class="card">
  <div>
    <h1>–ù–µ–±–æ–ª—å—à–∞—è –∏–≥—Ä–∞ ‚Äî –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ üíå</h1>
    <p class="lead">–í–≤–µ–¥–∏ –∏–º—è, –æ—Ç–≤–µ—Ç—å –Ω–∞ –ø–∞—Ä—É –≤–æ–ø—Ä–æ—Å–æ–≤, –∏ –≤ –∫–æ–Ω—Ü–µ –ø–æ—è–≤–∏—Ç—Å—è –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ.</p>
    <div class="bubble">
      <label>–ö–æ–º—É –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–æ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ?</label>
      <input id="targetName" name="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Ä–∏–Ω–∞" />
    </div>
    <div class="bubble">
      <div>–í—ã–±–µ—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π –∏–≥—Ä—ã</div>
      <div class="choices" id="choices0">
        <button type="button" class="btn" data-choice="romantic">üåπ –†–æ–º–∞–Ω—Ç–∏—á–Ω–æ</button>
        <button type="button" class="btn" data-choice="funny">üòÑ –í–µ—Å–µ–ª–æ</button>
        <button type="button" class="btn secondary" data-choice="surprise">‚ú® –°—é—Ä–ø—Ä–∏–∑</button>
      </div>
    </div>
    <div class="bubble" style="display:none" id="qBlock">
      <div>–ö–∞–∫–æ–π –ø–æ–¥–∞—Ä–æ–∫ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –±—ã –±–æ–ª—å—à–µ?</div>
      <div class="choices" id="choices1">
        <button type="button" class="btn" data-choice="flowers">–ë—É–∫–µ—Ç</button>
        <button type="button" class="btn" data-choice="picnic">–ü–∏–∫–Ω–∏–∫</button>
        <button type="button" class="btn" data-choice="movie">–í–µ—á–µ—Ä –∫–∏–Ω–æ</button>
      </div>
    </div>
  </div>

  <div class="right">
    <div class="card-art">
      <div class="heart" id="bigHeart">‚ù§</div>
      <canvas id="confettiCanvas" style="position:absolute;inset:0;pointer-events:none"></canvas>
    </div>
    <div class="result">
      <h2 id="resultTitle">–ì–æ—Ç–æ–≤—ã?</h2>
      <p id="resultText">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ</p>
      <button type="button" id="revealBtn" class="big-cta">–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ</button>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const targetInput=document.getElementById('targetName');
  const choices0=document.getElementById('choices0');
  const choices1=document.getElementById('choices1');
  const qBlock=document.getElementById('qBlock');
  const revealBtn=document.getElementById('revealBtn');
  const resultTitle=document.getElementById('resultTitle');
  const resultText=document.getElementById('resultText');
  const bigHeart=document.getElementById('bigHeart');
  let gameState={mood:null,gift:null};

  choices0.addEventListener('click',e=>{
    const btn=e.target.closest('button[data-choice]');
    if(!btn)return;
    gameState.mood=btn.dataset.choice;
    qBlock.style.display='block';
  });

  choices1.addEventListener('click',e=>{
    const btn=e.target.closest('button[data-choice]');
    if(!btn)return;
    gameState.gift=btn.dataset.choice;
  });

  revealBtn.addEventListener('click',()=>{
    const name=(targetInput.value||'–¢—ã').trim();
    if(!gameState.mood)gameState.mood='romantic';
    if(!gameState.gift)gameState.gift='flowers';
    const variants={
      romantic:[`${name}, —Ç—ã ‚Äî –º–æ—ë —Å–∞–º–æ–µ —Ç—ë–ø–ª–æ–µ –º–µ—Å—Ç–æ. –Ø –≤–ª—é–±–ª—ë–Ω(–∞) –≤ —Ç–µ–±—è ‚ù§Ô∏è`],
      funny:[`${name}, –µ—Å–ª–∏ –±—ã –ª—é–±–æ–≤—å –±—ã–ª–∞ Wi-Fi, —è –±—ã –≤—Å–µ–≥–¥–∞ –±—ã–ª(–∞) –≤ –∑–æ–Ω–µ –ø–æ–∫—Ä—ã—Ç–∏—è üòÑ`],
      surprise:[`${name}, —Å—é—Ä–ø—Ä–∏–∑! –Ø —Ç–µ–±—è –æ—á–µ–Ω—å –ª—é–±–ª—é ‚ú®`]
    };
    const txt=variants[gameState.mood][0];
    let giftLine='';
    if(gameState.gift==='flowers')giftLine='–û–±–µ—â–∞—é –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Ç–µ–±–µ —Ü–≤–µ—Ç—ã –±–µ–∑ –ø–æ–≤–æ–¥–∞.';
    if(gameState.gift==='picnic')giftLine='–î–∞–≤–∞–π —É—Å—Ç—Ä–æ–∏–º –ø–∏–∫–Ω–∏–∫ –Ω–∞ –∑–∞–∫–∞—Ç–µ.';
    if(gameState.gift==='movie')giftLine='–ü—Ä–∏–≥–ª–∞—à–∞—é –Ω–∞ –≤–µ—á–µ—Ä –∫–∏–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ –º—ã –∏ –ø–æ–ø–∫–æ—Ä–Ω.';
    resultTitle.textContent='–û—Ç–∫—Ä–æ–≤–µ–Ω–∏–µ';
    resultText.textContent=txt+' '+giftLine;
    heartbeatOnce();
    launchConfetti();
    spawnFloatingHearts(12);
  });

  function heartbeatOnce(){
    bigHeart.animate([
      {transform:'scale(1)'},
      {transform:'scale(1.35)'},
      {transform:'scale(0.95)'},
      {transform:'scale(1)'}
    ],{duration:1000});
  }
  function spawnFloatingHearts(n){
    const card=document.querySelector('.card');
    for(let i=0;i<n;i++){
      const el=document.createElement('div');
      el.className='floating-heart';
      el.textContent='‚ù§';
      const startX=40+Math.random()*80;
      const startY=80+Math.random()*20;
      el.style.left=startX+'%';
      el.style.top=startY+'%';
      const dur=2200+Math.random()*1800;
      el.style.fontSize=(12+Math.random()*18)+'px';
      el.style.animationDuration=dur+'ms';
      card.appendChild(el);
      setTimeout(()=>el.remove(),dur+200);
    }
  }
  /* Confetti */
  const canvas=document.getElementById('confettiCanvas');
  const ctx=canvas.getContext('2d');
  let confettiParticles=[],running=false;
  function resizeCanvas(){
    canvas.width=canvas.clientWidth;
    canvas.height=canvas.clientHeight;
  }
  window.addEventListener('resize',resizeCanvas);
  resizeCanvas();
  function launchConfetti(){
    for(let i=0;i<50;i++)confettiParticles.push(createParticle());
    if(!running){running=true;requestAnimationFrame(loop);}
  }
  function createParticle(){
    const w=canvas.width,h=canvas.height;
    const colors=['#ff4d8a','#ffd166','#6b6dff','#66e2b3','#ff9f43'];
    return{
      x:Math.random()*w,
      y:-10,
      vx:(Math.random()-0.5)*3,
      vy:2+Math.random()*4,
      size:6+Math.random()*10,
      rot:Math.random()*360,
      vr:(Math.random()-0.5)*8,
      color:colors[Math.floor(Math.random()*colors.length)],
      ttl:3000+Math.random()*2000,
      born:performance.now()
    };
  }
  function loop(ts){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    const now=performance.now();
    confettiParticles=confettiParticles.filter(p=>now-p.born<p.ttl);
    for(const p of confettiParticles){
      p.x+=p.vx;p.y+=p.vy;p.vy+=0.03;p.rot+=p.vr;
      ctx.save();
      ctx.translate(p.x,p.y);
      ctx.rotate(p.rot*Math.PI/180);
      ctx.fillStyle=p.color;
      ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6);
      ctx.restore();
    }
    if(confettiParticles.length>0){
      requestAnimationFrame(loop);
    }else{
      running=false;ctx.clearRect(0,0,canvas.width,canvas.height);
    }
  }
});
</script>
</body>
</html>
